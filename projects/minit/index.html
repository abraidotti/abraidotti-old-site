#!/bin/bash
#Thanks for checking out Micro Init!        

echo "Hello, $USER!"
echo "Please give me a name for the init directory:"

read dirName

#Check if input is blank
if [ -z "$dirName" ]
  then
    echo "No argument supplied"
    exit
fi

if [ -d "$dirName" ]
then
  echo "The directory already exists!"
  read answer
  if [ $answer != 'y' ]
  	then
      exit
fi

	else
		echo "Initializing $dirName at $PWD"
	  mkdir $dirName && cd $dirName && touch index.html
	  mkdir -p $PWD/css && touch css/styles.css && mkdir -p $PWD/js && touch js/main.js

		echo "<html>
<head>
	<title>$dirName</title>
	<meta charset="utf-8">
	<link rel='stylesheet' type='text/css' href='./css/styles.css'>
	<script type='text/javascript' src='./js/main.js'></script>
</head>
		
<body>
	<h1>Hello, World!</h1>
</body>
</html>" > $PWD/index.html

		echo "document.addEventListener('DOMContentLoaded', function(){	
		console.log('main.js is hooked up!');
		});" > $PWD/js/main.js

		echo "$dirName scaffold initialized."

	fi